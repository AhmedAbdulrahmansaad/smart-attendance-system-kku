# ๐ ุฏููู ุชูุนูู ุงููุธุงู ุงููุงูู ุฎุทูุฉ ุจุฎุทูุฉ

## โ ุชู ุฅุตูุงุญ ุฌููุน ุงููุดุงูู ูู ุงูููุฏ

ุชู ุฅุตูุงุญ ุงููุดุงูู ุงูุชุงููุฉ:
1. โ ุชุตุญูุญ URL ูู `/utils/api.ts` (ุฅุฒุงูุฉ ุงูุชูุฑุงุฑ)
2. โ ุชุตุญูุญ URL ูู `/components/LandingPage.tsx`
3. โ ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

---

## ๐ ุงูุฎุทูุงุช ุงููุทููุจุฉ ููุชูุนูู ุงููุงูู

### ุงูุฎุทูุฉ 1๏ธโฃ: ุชุซุจูุช Supabase CLI

```bash
# ุนูู macOS/Linux
npm install -g supabase

# ุนูู Windows
npm install -g supabase
```

ุชุญูู ูู ุงูุชุซุจูุช:
```bash
supabase --version
```

---

### ุงูุฎุทูุฉ 2๏ธโฃ: ุชุณุฌูู ุงูุฏุฎูู ุฅูู Supabase

```bash
supabase login
```

ุณููุชุญ ูุชุตูุญ - ุณุฌู ุงูุฏุฎูู ุจุญุณุงุจ Supabase ุงูุฎุงุต ุจู.

---

### ุงูุฎุทูุฉ 3๏ธโฃ: ุฑุจุท ุงููุดุฑูุน

```bash
supabase link --project-ref pcymgqdjbdklrikdquih
```

ุนูุฏ ุงูุณุคุงู ุนู database passwordุ ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ ุงูุฎุงุตุฉ ุจูุงุนุฏุฉ ุงูุจูุงูุงุช.

---

### ุงูุฎุทูุฉ 4๏ธโฃ: ุชูููุฐ SQL Schema

ุงูุชูู ุฅูู Supabase Dashboard:
1. ุงูุชุญ: https://supabase.com/dashboard/project/pcymgqdjbdklrikdquih
2. ุงุฐูุจ ุฅูู **SQL Editor**
3. ุงููุฑ ุนูู **+ New Query**
4. ุงูุณุฎ ูุญุชูู ุงูููู `/database_schema.sql` ูุฃูุตูู
5. ุงููุฑ ุนูู **Run** (ุฃู ุงุถุบุท Ctrl+Enter)

ุฃู ุงุณุชุฎุฏู CLI:

```bash
supabase db push
```

---

### ุงูุฎุทูุฉ 5๏ธโฃ: ูุดุฑ Edge Function

```bash
# ูุดุฑ Edge Function ุงููุณูุงุฉ 'server'
supabase functions deploy server

# ุฅุฐุง ุทูุจ ููู ุชุนููู ูุชุบูุฑุงุช ุงูุจูุฆุฉุ ุดุบููุง:
supabase secrets set SUPABASE_URL=https://pcymgqdjbdklrikdquih.supabase.co
supabase secrets set SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBjeW1ncWRqYmRrbHJpa2RxdWloIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4MTU3ODcsImV4cCI6MjA3ODM5MTc4N30.OTHtmMPSb2AAdSBHM19JY20gb4DzLzd8zILCN-zUvoQ"
supabase secrets set SUPABASE_SERVICE_ROLE_KEY="YOUR_SERVICE_ROLE_KEY_HERE"
```

**โ๏ธ ููู ุฌุฏุงู:** ุงุณุชุจุฏู `YOUR_SERVICE_ROLE_KEY_HERE` ุจู Service Role Key ุงูุญูููู ูู:
- ุงุฐูุจ ุฅูู: https://supabase.com/dashboard/project/pcymgqdjbdklrikdquih/settings/api
- ุงูุณุฎ **service_role** key (NOT anon key)

---

### ุงูุฎุทูุฉ 6๏ธโฃ: ุงูุชุญูู ูู ุงููุดุฑ

1. **ุชุญูู ูู Edge Function:**
```bash
curl https://pcymgqdjbdklrikdquih.supabase.co/functions/v1/server/health
```

ูุฌุจ ุฃู ุชุฑู ุงุณุชุฌุงุจุฉ JSON ูุซู:
```json
{
  "status": "healthy",
  "database": true,
  "message": "Backend is running correctly with SQL database"
}
```

2. **ุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
ูู Supabase Dashboard โ Table Editorุ ุชุญูู ูู ูุฌูุฏ ุงูุฌุฏุงูู:
- โ profiles
- โ courses
- โ enrollments
- โ sessions
- โ attendance
- โ schedules

---

### ุงูุฎุทูุฉ 7๏ธโฃ: ุงุฎุชุจุงุฑ ุงููุธุงู

1. **ุงูุชุญ ุงูุชุทุจูู** ูู ุงููุชุตูุญ
2. **ุตูุญุฉ Landing Page:**
   - ุชุญูู ูู ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช ุงูุญููููุฉ (ูุฌุจ ุฃู ุชููู 0 ูู ุงูุจุฏุงูุฉ)
   - ุงูุชุญ Console (F12) ูุชุญูู ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก 404

3. **ุฅูุดุงุก ุญุณุงุจ:**
   - ุงููุฑ ุนูู "ุชุณุฌูู ุงูุฏุฎูู / Sign In"
   - ุงููุฑ ุนูู "ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ / Create Account"
   - ุงููุฃ ุงูุจูุงูุงุช:
     - **ุงูุงุณู ุงููุงูู:** ูุญูุฏ ุฃุญูุฏ
     - **ุงูุจุฑูุฏ:** ุณูุธูุฑ ุชููุงุฆูุงู: `mohammad.ahmed@kku.edu.sa`
     - **ุงูุฑูู ุงูุฌุงูุนู (ููุทูุงุจ ููุท):** 441234567
     - **ุงูุฏูุฑ:** ุทุงูุจ / Student
     - **ูููุฉ ุงููุฑูุฑ:** ุงุฎุชุฑ ูููุฉ ูุฑูุฑ ูููุฉ

4. **ุชุณุฌูู ุงูุฏุฎูู:**
   - ุงุณุชุฎุฏู ุงูุจุฑูุฏ ููููุฉ ุงููุฑูุฑ
   - ูุฌุจ ุฃู ูุชู ุชูุฌููู ุฅูู Dashboard ุญุณุจ ุงูุฏูุฑ

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### โ ุฎุทุฃ 404 Not Found

**ุงูุณุจุจ:** Edge Function ูู ูุชู ูุดุฑูุง ุจุนุฏ.

**ุงูุญู:**
```bash
supabase functions deploy server
```

---

### โ ุฎุทุฃ "Profile not found"

**ุงูุณุจุจ:** ุฌุฏูู `profiles` ุบูุฑ ููุฌูุฏ.

**ุงูุญู:**
1. ููุฐ SQL Schema ูู ุงูุฎุทูุฉ 4๏ธโฃ
2. ุฃู ุฃูุดุฆ ุงูุฌุฏูู ูุฏููุงู:
```sql
CREATE TABLE IF NOT EXISTS profiles (
  id UUID PRIMARY KEY REFERENCES auth.users(id) ON DELETE CASCADE,
  email TEXT NOT NULL UNIQUE,
  full_name TEXT NOT NULL,
  role TEXT NOT NULL CHECK (role IN ('admin', 'instructor', 'student', 'supervisor')),
  university_id TEXT UNIQUE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

---

### โ ุฎุทุฃ "Email already registered"

**ุงูุณุจุจ:** ุงูุจุฑูุฏ ูุณุฌู ูุณุจูุงู ูู auth.users.

**ุงูุญู:**
ุงุณุชุฎุฏู "ุชุณุฌูู ุงูุฏุฎูู" ุจุฏูุงู ูู "ุฅูุดุงุก ุญุณุงุจ".

ุฃู ุงุญุฐู ุงููุณุชุฎุฏู ูู Dashboard:
1. ุงุฐูุจ ุฅูู: Authentication โ Users
2. ุงุญุฐู ุงููุณุชุฎุฏู
3. ุญุงูู ุงูุชุณุฌูู ูุฑุฉ ุฃุฎุฑู

---

### โ Dashboard ูุง ูุนุฑุถ ุจูุงูุงุช

**ุงูุณุจุจ:** ูุง ุชูุฌุฏ ุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.

**ุงูุญู:**
1. ุฃูุดุฆ ุญุณุงุจุงุช ุชุฌุฑูุจูุฉ
2. ุฃูุดุฆ ููุฑุฑุงุช ูู ููุญุฉ Admin
3. ุณุฌู ุทูุงุจ ูู ุงูููุฑุฑุงุช
4. ุฃูุดุฆ ุฌูุณุงุช ูุณุฌู ุญุถูุฑ

---

## ๐ฏ ุงูุชุญูู ูู ุงูุชูุนูู ุงููุงูู

### โ Checklist ุงูููุงุฆู:

- [ ] Edge Function ููุดูุฑุฉ (ูุง ููุฌุฏ ุฎุทุฃ 404)
- [ ] ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุญุชูู ุนูู ุฌููุน ุงูุฌุฏุงูู
- [ ] ูููู ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ ุจูุฌุงุญ
- [ ] ูููู ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ
- [ ] Dashboard ูุธูุฑ ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู
- [ ] Landing Page ุชุนุฑุถ ุฅุญุตุงุฆูุงุช ุญููููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุชููุฏ ุชููุงุฆูุงู ุนูุฏ ูุชุงุจุฉ ุงูุงุณู
- [ ] ุงูุชุญูู ูู ุงูุฑูู ุงูุฌุงูุนู ูุนูู (9 ุฃุฑูุงู ุชุจุฏุฃ ุจู 44)

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุจุนุฏ ุงูุชูุนูู ุงููุงููุ ููููู:

1. **ุฅูุดุงุก ุญุณุงุจุงุช Admin:**
   - ุณุฌู ุญุณุงุจ ุฌุฏูุฏ ุจุฏูุฑ "admin"
   - ุงุณุชุฎุฏูู ูุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูููุฑุฑุงุช

2. **ุฅุถุงูุฉ ููุฑุฑุงุช:**
   - ูู ููุญุฉ Adminุ ุงุฐูุจ ุฅูู "ุฅุฏุงุฑุฉ ุงูููุฑุฑุงุช"
   - ุฃุถู ููุฑุฑุงุช ุฌุฏูุฏุฉ

3. **ุชุณุฌูู ุทูุงุจ:**
   - ุฃูุดุฆ ุญุณุงุจุงุช ุทูุงุจ
   - ุณุฌููู ูู ุงูููุฑุฑุงุช

4. **ุฅูุดุงุก ุฌูุณุงุช:**
   - ูู ููุญุฉ Instructorุ ุฃูุดุฆ ุฌูุณุฉ ุฌุฏูุฏุฉ
   - ุงุญุตู ุนูู Session Code
   - ุดุงุฑูู ูุน ุงูุทูุงุจ

5. **ุชุณุฌูู ุญุถูุฑ:**
   - ุงูุทูุงุจ ูุฏุฎููู Session Code
   - ูุชู ุชุณุฌูู ุญุถูุฑูู ุชููุงุฆูุงู

---

## ๐ ุชู!

ุงูุขู ุงููุธุงู ุฌุงูุฒ ุจุงููุงูู ููุงุณุชุฎุฏุงู! ๐

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉุ ุฑุงุฌุน ูุณู ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ุฃู ุงูุชุญ Console (F12) ููุดุงูุฏุฉ ุฑุณุงุฆู ุงูุฃุฎุทุงุก ุงูุชูุตูููุฉ.

---

## ๐ง ุงูุฏุนู ุงูููู

ูููุณุงุนุฏุฉ:
- Email: mnafisah668@gmail.com
- ุฑุงุฌุน ูููุงุช ุงูุชูุซูู ูู ุงููุดุฑูุน
- ุชุญูู ูู Console logs ูู ุงููุชุตูุญ
