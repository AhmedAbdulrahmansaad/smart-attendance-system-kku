# ๐ ุงุจุฏุฃ ููุง - ุฏููู ุงูุฑุจุท ุงูุญูููู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช

## โ **ุงูุฎุทูุฉ 1: ุงูุชุญ ุตูุญุฉ ุงูุชุดุฎูุต**

### **ุงูุทุฑููุฉ ุงูุฃุณูู:**
```
ุงูุชุญ ุงูููู: /diagnostic.html ูู ุงููุชุตูุญ ูุจุงุดุฑุฉ
```

**ูุงุฐุง ุณุชูุนู ูุฐู ุงูุตูุญุฉุ**
- โ ุชุชุตู ุจูSupabase ุงูุญูููู
- โ ุชูุชุดู **ุฌููุน** ุงูุฌุฏุงูู ุงูููุฌูุฏุฉ
- โ ุชุนุฑุถ ุนุฏุฏ ุงูุณุฌูุงุช ูู ูู ุฌุฏูู
- โ ุชุนุฑุถ ุฃุณูุงุก ุงูุฃุนูุฏุฉ
- โ ุชุนุฑุถ ุนููุฉ ูู ุงูุจูุงูุงุช ุงูุญููููุฉ
- โ ุชุญุฏุฏ ุงูุฌุฏุงูู ุงูููููุฏุฉ

---

## ๐ **ุงูุฎุทูุฉ 2: ุฑุงุฌุน ุงููุชุงุฆุฌ**

ุณุชุดุงูุฏ ุชูุฑูุฑ ูุงูู ูุซู:

```
โ ุงูุฌุฏุงูู ุงูููุฌูุฏุฉ (5):
  โข profiles - 3 ุณุฌูุงุช
  โข courses - 0 ุณุฌู (ูุงุฑุบ)
  โข sessions - 0 ุณุฌู (ูุงุฑุบ)
  โข enrollments - 0 ุณุฌู (ูุงุฑุบ)
  โข kv_store_90ad488b - 0 ุณุฌู (ูุงุฑุบ)

โ ุงูุฌุฏุงูู ุงูููููุฏุฉ (3):
  โข attendance
  โข live_sessions
  โข notifications
```

---

## ๐ง **ุงูุฎุทูุฉ 3: ุฃูุดุฆ ุงูุฌุฏุงูู ุงูููููุฏุฉ**

### **ุฅุฐุง ูุงูุช ููุงู ุฌุฏุงูู ููููุฏุฉ:**

1. **ุงูุชุญ Supabase Dashboard:**
   ```
   https://supabase.com/dashboard
   ```

2. **ุงุฎุชุฑ ูุดุฑูุนู:**
   ```
   Project ID: pcymgqdjbdklrikdquih
   ```

3. **ุงุฐูุจ ุฅูู SQL Editor:**
   ```
   Dashboard โ SQL Editor โ New Query
   ```

4. **ุงูุณุฎ ูุงูุตู SQL ูู:**
   ```
   /DATABASE_SETUP.sql
   ```

5. **ุงุถุบุท Run (ุชุดุบูู)**

6. **ุฃุนุฏ ุชุญููู /diagnostic.html**
   - ูุฌุจ ุฃู ุชุฎุชูู ุงูุฌุฏุงูู ูู ูุงุฆูุฉ "ุงูููููุฏุฉ"
   - ูุชุธูุฑ ูู ูุงุฆูุฉ "ุงูููุฌูุฏุฉ"

---

## ๐ **ุงูุฎุทูุฉ 4: ุฃุถู ุจูุงูุงุช ุงุฎุชุจุงุฑ**

### **ุฅุฐุง ูุงูุช ุงูุฌุฏุงูู ูุงุฑุบุฉ:**

ุงูุขู ููููู ุงุณุชุฎุฏุงู ุงููุธุงู ูุฅุถุงูุฉ ุจูุงูุงุช ุญููููุฉ:

### **A. ุฃุถู ูุณุชุฎุฏู Admin:**
```sql
-- ูู Supabase SQL Editor:

-- 1. ุฃูุดุฆ ุงููุณุชุฎุฏู ูู Auth
-- (ูุฏููุงู ูู Dashboard โ Authentication โ Add User)
-- Email: admin@kku.edu.sa
-- Password: Admin123!
-- Auto Confirm Email: โ

-- 2. ุฃุถู Profile ูู
INSERT INTO profiles (id, email, full_name, role)
VALUES (
  'USER_ID_FROM_AUTH',  -- ุงุณุชุจุฏู ุจูID ุงููุนูู ูู Auth
  'admin@kku.edu.sa',
  'ูุฏูุฑ ุงููุธุงู',
  'admin'
);
```

### **B. ุฃุถู ูุฏุฑุณ:**
```sql
-- ููุณ ุงูุฎุทูุงุช ููู:
-- Email: teacher@kku.edu.sa
-- Role: instructor
```

### **C. ุฃุถู ุทุงูุจ:**
```sql
-- ููุณ ุงูุฎุทูุงุช ููู:
-- Email: student@kku.edu.sa
-- Role: student
-- University ID: 441234567
```

---

## ๐ฏ **ุงูุฎุทูุฉ 5: ุณุฌู ุฏุฎูู ูููุธุงู**

1. **ุงูุชุญ ุงูุชุทุจูู**
2. **ุงุถุบุท "ุชุณุฌูู ุฏุฎูู"**
3. **ุฃุฏุฎู:**
   ```
   Email: admin@kku.edu.sa
   Password: Admin123!
   ```
4. **ุงุถุบุท "ุฏุฎูู"**

---

## โ **ุงูุฎุทูุฉ 6: ุชุญูู ูู ุงูุงุชุตุงู**

ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู:

1. **ุงุฐูุจ ุฅูู "ุงูููุฑุฑุงุช ุงูุฏุฑุงุณูุฉ"**
2. **ุงุถุบุท "+ ุฅุถุงูุฉ ูุงุฏุฉ"**
3. **ุงููุฃ ุงูุจูุงูุงุช:**
   ```
   ุงุณู ุงููุงุฏุฉ: ุงูุจุฑูุฌุฉ ุงููุชูุฏูุฉ
   ููุฏ ุงููุงุฏุฉ: CS301
   ```
4. **ุงุถุบุท "ุฅุถุงูุฉ"**

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
โ ุชู ุฅุถุงูุฉ ุงููุงุฏุฉ ุจูุฌุงุญ / Course added successfully
```

5. **ุฃุนุฏ ุชุญููู /diagnostic.html**
6. **ุชุฃูุฏ ูู:**
   ```
   โ ุฌุฏูู courses: 1 ุณุฌู (ูุงู 0)
   ```

---

## ๐ **ููู ุชุนุฑู ุฃู ุงููุธุงู ูุชุตู ูุนููุงูุ**

### **ูู Console (F12):**

```javascript
// ูุฌุงุญ:
โ [CourseManagement] Loaded 1 courses
๐ [getCourses] Using direct Supabase
โ Course added successfully

// ูุดู:
โ [API] Failed to fetch
โ Table does not exist
```

### **ูู /diagnostic.html:**

```
โ ุงูุงุชุตุงู ุจูSupabase ูุงุฌุญ!
๐ ุฅุฌูุงูู ุงูุณุฌูุงุช: 5
โ ุฌุฏูู courses: 1 ุณุฌู
โ ุฌุฏูู profiles: 3 ุณุฌูุงุช
```

---

## ๐ **Checklist - ุชุฃูุฏ ูู:**

- [ ] ูุชุญุช /diagnostic.html ูุดุงูุฏุช ุงููุชุงุฆุฌ
- [ ] ุฌููุน ุงูุฌุฏุงูู ุงููุทููุจุฉ ููุฌูุฏุฉ (ูุง ุชูุฌุฏ ููููุฏุฉ)
- [ ] ุฃุถูุช ูุณุชุฎุฏู admin ูุงุญุฏ ุนูู ุงูุฃูู
- [ ] ุณุฌูุช ุฏุฎูู ูููุธุงู ุจูุฌุงุญ
- [ ] ุฃุถูุช ูุงุฏุฉ ุฏุฑุงุณูุฉ ูุงุญุฏุฉ
- [ ] ุฑุฃูุช "ุชู ุฅุถุงูุฉ ุงููุงุฏุฉ ุจูุฌุงุญ"
- [ ] ุฃุนุฏุช ุชุญููู /diagnostic.html ูุฑุฃูุช ุงูุณุฌู ุงูุฌุฏูุฏ

---

## ๐ **ุฅุฐุง ูุฌุญุช ุฌููุน ุงูููุงุท:**

```
โ ุงููุธุงู ูุชุตู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุญููููุฉ!
โ ุงูุจูุงูุงุช ุชูุญูุธ ูุนููุงู!
โ ููููู ุงูุจุฏุก ุจุงุณุชุฎุฏุงู ุงููุธุงู!
```

---

## ๐ **ุฅุฐุง ูุงุฌูุช ูุดููุฉ:**

### **1. ุงูุฌุฏุงูู ูุง ุฒุงูุช ููููุฏุฉ:**
```
โ ุงูุณุจุจ: SQL ูู ูููุฐ ุจุดูู ุตุญูุญ
โ ุงูุญู: 
   1. ุชุฃูุฏ ูู ุชุญุฏูุฏ ุฌููุน ุงููSQL
   2. ุงุถุบุท Run ูุฑุฉ ุฃุฎุฑู
   3. ุฑุงุฌุน Errors ูู SQL Editor
```

### **2. "Permission denied for table":**
```
โ ุงูุณุจุจ: RLS Policies ุบูุฑ ููุฌูุฏุฉ
โ ุงูุญู:
   1. ุงูุชุญ SQL Editor
   2. ููุฐ:
      ALTER TABLE courses DISABLE ROW LEVEL SECURITY;
   3. (ูุคูุชุงู ููุงุฎุชุจุงุฑ ููุท!)
```

### **3. "Failed to fetch":**
```
โ ุงูุญู: ูุฐุง ุทุจูุนู!
   ุงููุธุงู ูุณุชุฎุฏู Supabase ูุจุงุดุฑุฉ (Fallback)
   ุทุงููุง ุงูุจูุงูุงุช ุชุธูุฑ โ ูู ุดูุก ูุนูู!
```

### **4. ุงูุฌุฏุงูู ููุฌูุฏุฉ ููู ูุงุฑุบุฉ:**
```
โ ุงูุญู: 
   1. ุฃุถู ุจูุงูุงุช ูุฏููุงู (ุงูุฎุทูุฉ 4)
   2. ุฃู ุงุณุชุฎุฏู ุงููุธุงู ูุฅุถุงูุฉ ุจูุงูุงุช
   3. ุงูุฌุฏุงูู ุงููุงุฑุบุฉ ุทุจูุนูุฉ ูู ุงูุจุฏุงูุฉ!
```

---

## ๐ **ุฃูุง ุฌุงูุฒ ููุณุงุนุฏุชู!**

ุจุนุฏ ุชุดุบูู /diagnostic.htmlุ ุฃุฎุจุฑูู:

1. **ูู ุนุฏุฏ ุงูุฌุฏุงูู ุงูููุฌูุฏุฉุ**
2. **ูู ุนุฏุฏ ุงูุฌุฏุงูู ุงูููููุฏุฉุ**
3. **ูู ููุงู ุจูุงูุงุช ูู ุฃู ุฌุฏููุ**
4. **ูุง ูู ุงูุฎุทุฃ ุจุงูุถุจุท (ุฅู ููุฌุฏ)ุ**

**ุณุฃุตูุญ ูู ุดูุก ุจูุงุกู ุนูู ุงููุชุงุฆุฌ ุงูุญููููุฉ!** ๐
