# ๐ง ุญู ูุดููุฉ "ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุฌู ูุณุจูุงู"

<div dir="rtl">

## ๐ ุงููุดููุฉ

ุนูุฏ ูุญุงููุฉ ุงูุชุณุฌููุ ุชุธูุฑ ุฑุณุงูุฉ ุงูุฎุทุฃ:
```
โ Email already registered
```

---

## โ ุงูุญู ุงูุณุฑูุน

### ุฅุฐุง ูุงู ูุฏูู ุญุณุงุจ ุจุงููุนู:

1. **ุงูุชูู ุฅูู ุชุณุฌูู ุงูุฏุฎูู**
   - ุงูุชุญ ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
   - ุงุถุบุท ุนูู ุชุจููุจ "ุชุณุฌูู ุงูุฏุฎูู" (Sign In)
   - ุฃุฏุฎู ุจุฑูุฏู ููููุฉ ุงููุฑูุฑ
   - ุงุถุบุท "ุฏุฎูู"

2. **ุงูุฎุทูุงุช:**
   ```
   โ ุงูุชุญ: http://localhost:5173/#/login
   โ ุงุถุบุท ุนูู "ุชุณุฌูู ุงูุฏุฎูู"
   โ ุฃุฏุฎู ุงูุจุฑูุฏ: your-email@kku.edu.sa
   โ ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ
   โ ุงุถุบุท "ุฏุฎูู"
   ```

---

### ุฅุฐุง ูุณูุช ูููุฉ ุงููุฑูุฑ:

ููุฃุณูุ ุงููุธุงู ุงูุญุงูู ูุง ูุฏุนู ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ ุชููุงุฆูุงู.

**ุงูุญููู ุงููุชุงุญุฉ:**

#### ุงูุฎูุงุฑ 1: ุฅุนุงุฏุฉ ุชุนููู ูู Supabase Dashboard (ูููุทูุฑูู)
```
1. ุงูุชุญ Supabase Dashboard
2. ุงุฐูุจ ุฅูู Authentication โ Users
3. ุงุจุญุซ ุนู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
4. ุงุถุบุท ุนูู ุงููุณุชุฎุฏู
5. ุงุถุบุท "Reset Password"
```

#### ุงูุฎูุงุฑ 2: ุญุฐู ุงููุณุชุฎุฏู ูุฅุนุงุฏุฉ ุงูุชุณุฌูู (ูููุทูุฑูู)
```
1. ุงูุชุญ Supabase Dashboard
2. ุงุฐูุจ ุฅูู Authentication โ Users
3. ุงุจุญุซ ุนู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
4. ุงุถุบุท ุนูู ุงููุณุชุฎุฏู
5. ุงุถุบุท "Delete User"
6. ุนุฏ ุฅูู ุงููุดุฑูุน ูุณุฌู ูู ุฌุฏูุฏ
```

#### ุงูุฎูุงุฑ 3: ุญุฐู ูู SQL Editor
```sql
-- ุงุญุฐู ุงููุณุชุฎุฏู ูู Auth
-- (ุงุณุชุฎุฏู ูุฐุง ูู Supabase SQL Editor)

-- ุฃููุงู: ุงุญุตู ุนูู ID ุงููุณุชุฎุฏู
SELECT id, email FROM auth.users WHERE email = 'your-email@kku.edu.sa';

-- ุซุงููุงู: ุงุญุฐู Profile ูู KV Store
-- (ุงูุชุญ ุญุณุงุจ Supabase ูุงุฐูุจ ุฅูู Edge Functions Logs)

-- ุซุงูุซุงู: ุงุญุฐู ุงููุณุชุฎุฏู ูู Auth
DELETE FROM auth.users WHERE email = 'your-email@kku.edu.sa';
```

---

## ๐๏ธ ูููุทูุฑูู: ููุน ูุฐู ุงููุดููุฉ

### 1. ุฅุถุงูุฉ ููุฒุฉ "ูุณูุช ูููุฉ ุงููุฑูุฑ"

ุญุงููุงูุ ุงููุธุงู ูุง ูุญุชูู ุนูู ูุฐู ุงูููุฒุฉ. ูุฅุถุงูุชูุง:

```typescript
// ูู AuthContext.tsx
export async function resetPassword(email: string) {
  const { error } = await supabase.auth.resetPasswordForEmail(email, {
    redirectTo: `${window.location.origin}/reset-password`,
  });
  if (error) throw error;
}
```

### 2. ุชุญุณูู ุฑุณุงุฆู ุงูุฃุฎุทุงุก

ุชู ุจุงููุนู ุชุญุณูู ุฑุณุงุฆู ุงูุฃุฎุทุงุก ูู ุขุฎุฑ ุชุญุฏูุซ:

```typescript
// LoginPage.tsx - ุชู ุชุญุฏูุซู
if (errorMessage.includes('Email already registered')) {
  setError(language === 'ar' 
    ? 'ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุฌู ูุณุจูุงู. ูู ูุฏูู ุญุณุงุจุ ุงูุชูู ุฅูู ุชุณุฌูู ุงูุฏุฎูู.' 
    : 'Email already registered. Already have an account? Go to Sign In.');
}
```

---

## ๐ ููุงุญุธุงุช ูููุฉ

### ุงูุจุฑูุฏ ุงูุฌุงูุนู
- โ ูุฌุจ ุฃู ููุชูู ุจู `@kku.edu.sa`
- โ ูู ุจุฑูุฏ ูููู ุชุณุฌููู ูุฑุฉ ูุงุญุฏุฉ ููุท
- โ ูุง ูููู ุงุณุชุฎุฏุงู ููุณ ุงูุจุฑูุฏ ูุฑุชูู

### ุงูุฑูู ุงูุฌุงูุนู (ููุทูุงุจ ููุท)
- โ ูุฌุจ ุฃู ูููู 9 ุฃุฑูุงู
- โ ูุฌุจ ุฃู ูุจุฏุฃ ุจู 44
- โ ูุซุงู ุตุญูุญ: `441234567`
- โ ูู ุฑูู ูููู ุชุณุฌููู ูุฑุฉ ูุงุญุฏุฉ ููุท
- โ ูุง ูููู ุงุณุชุฎุฏุงู ููุณ ุงูุฑูู ูุฃูุซุฑ ูู ุทุงูุจ

---

## ๐ฏ ุฎุทูุงุช ุงูุชุญูู

### ุชุญูู ูู ูุฌูุฏ ุญุณุงุจ:

#### ุงูุทุฑููุฉ 1: ูู Supabase Dashboard
```
1. ุงูุชุญ: https://supabase.com/dashboard/project/pcymgqdjbdklrikdquih
2. ุงุฐูุจ ุฅูู: Authentication โ Users
3. ุงุจุญุซ ุนู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
4. ุฅุฐุง ูุฌุฏุชู = ูุฏูู ุญุณุงุจ
```

#### ุงูุทุฑููุฉ 2: ูู SQL Editor
```sql
-- ุงุจุญุซ ุนู ุงููุณุชุฎุฏู
SELECT * FROM auth.users WHERE email = 'your-email@kku.edu.sa';

-- ุฅุฐุง ุฑุฌุนุช ูุชุงุฆุฌ = ุงูุญุณุงุจ ููุฌูุฏ
```

---

## ๐ ููู ุงููุธุงู

### ููู ูุนูู ุงูุชุณุฌููุ

1. **Frontend (LoginPage.tsx)**
   ```
   ูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
   โ
   ูุฑุณู ุทูุจ ุฅูู Backend
   ```

2. **Backend (server/index.tsx)**
   ```
   ูุชุญูู ูู ุนุฏู ูุฌูุฏ ุงูุจุฑูุฏ
   โ
   ููุดุฆ ุญุณุงุจ ูู Supabase Auth
   โ
   ูุญูุธ ุงูุจูุงูุงุช ูู KV Store
   ```

3. **Supabase**
   ```
   ูุฎุฒู ุจูุงูุงุช ุงููุตุงุฏูุฉ
   โ
   ูููุน ุงูุชุณุฌูู ุงูููุฑุฑ
   ```

---

## ๐ก ูุตุงุฆุญ

### ูููุณุชุฎุฏููู:
- โ ุงุญูุธ ุจุฑูุฏู ููููุฉ ูุฑูุฑู ูู ููุงู ุขูู
- โ ุงุณุชุฎุฏู ูููุฉ ูุฑูุฑ ูููุฉ (6 ุฃุญุฑู ุนูู ุงูุฃูู)
- โ ูุง ุชุดุงุฑู ูููุฉ ุงููุฑูุฑ ูุน ุฃุญุฏ

### ูููุทูุฑูู:
- โ ุฃุถู ููุฒุฉ "ูุณูุช ูููุฉ ุงููุฑูุฑ" (ูุณุชูุจูุงู)
- โ ุฃุถู ุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ูุณุชูุจูุงู)
- โ ุญุณูู ุฑุณุงุฆู ุงูุฃุฎุทุงุก (ุชู โ)

---

## ๐ ุชุญุฏูุซุงุช ุงููุธุงู

### ูุง ุชู ุชุญุณููู (ุงูุขู):

1. โ **ุฑุณุงุฆู ุฃุฎุทุงุก ุฃูุถู**
   - ุงูุขู ุชุธูุฑ ุฑุณุงุฆู ูุงุถุญุฉ ุจุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
   - ุชุญุชูู ุนูู ุฅุฑุดุงุฏุงุช ูููุณุชุฎุฏู

2. โ **Component ูุณุงุนุฏ**
   - `AlreadyRegisteredHelper.tsx` - ูุธูุฑ ุชุนูููุงุช ูุงุถุญุฉ

3. โ **Server-side logging**
   - ุงูุขู ูุณุฌู ุงูุฃุฎุทุงุก ุจุดูู ุฃูุถู ูู Console

---

## ๐ ุงูุฏุนู

### ุฅุฐุง ูู ุชุญู ุงููุดููุฉ:

1. **ุชุญูู ูู Console:**
   ```
   F12 โ Console
   ุงุจุญุซ ุนู ุงูุฃุฎุทุงุก ุจุงูููู ุงูุฃุญูุฑ
   ```

2. **ุชุญูู ูู Network:**
   ```
   F12 โ Network
   ุงุจุญุซ ุนู ุทูุจ /signup
   ุชุญูู ูู Response
   ```

3. **ุชุญูู ูู Supabase Logs:**
   ```
   Supabase Dashboard โ Logs โ Edge Functions
   ```

---

## โ ุงูุฎูุงุตุฉ

### ุงููุดููุฉ:
```
ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุฌู ูุณุจูุงู
```

### ุงูุญู:
```
1. ุงุณุชุฎุฏู ุชุณุฌูู ุงูุฏุฎูู ุจุฏูุงู ูู ุงูุชุณุฌูู
2. ุฅุฐุง ูุณูุช ูููุฉ ุงููุฑูุฑุ ุงุชุตู ุจุงููุทูุฑ
3. ุฅุฐุง ููุช ูุทูุฑุ ุงุญุฐู ุงููุณุชุฎุฏู ูู Supabase
```

### ุงูุชุญุณููุงุช:
```
โ ุฑุณุงุฆู ุฃูุถู
โ ุฅุฑุดุงุฏุงุช ูุงุถุญุฉ
โ Component ูุณุงุนุฏ
โ Logging ูุญุณูู
```

---

**๐ ูุธุงู ุงูุญุถูุฑ ุงูุฐูู - ุฌุงูุนุฉ ุงูููู ุฎุงูุฏ**  
**๐ ุชู ุงูุชุญุฏูุซ: ุฏูุณูุจุฑ 2025**  
**โจ ุงููุดููุฉ ูุญูููุฉ!**

</div>
