# ๐ ูุธุงู ุงูุญุถูุฑ ุงูุฐูู ูุฌุงูุนุฉ ุงูููู ุฎุงูุฏ
# KKU Smart Attendance System

<div align="center">

![KKU Logo](https://www.kku.edu.sa/sites/default/files/logo_0.png)

**ูุธุงู ุญุถูุฑ ูุชูุงูู ูุน ูุงุนุฏุฉ ุจูุงูุงุช ุญููููุฉ ูุฃูุงู ูุชูุฏู**

[![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/licenses/MIT)
[![Supabase](https://img.shields.io/badge/Supabase-3ECF8E?logo=supabase&logoColor=white)](https://supabase.com)
[![Vercel](https://img.shields.io/badge/Vercel-000000?logo=vercel&logoColor=white)](https://vercel.com)
[![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![React](https://img.shields.io/badge/React-20232A?logo=react&logoColor=61DAFB)](https://reactjs.org/)

[ุงูุนุฑุจูุฉ](#ุงูุนุฑุจูุฉ) | [English](#english)

</div>

---

<div dir="rtl">

# ุงูุนุฑุจูุฉ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุงูุญุถูุฑ ุงูุฐูู ูู ุญู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงูุญุถูุฑ ูุงูุบูุงุจ ูู ุฌุงูุนุฉ ุงูููู ุฎุงูุฏุ ูุชููุฒ ุจู:

### โจ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

#### ๐ ุฃูุงู ูุชูุฏู
- **Device Fingerprinting** - ุจุตูุฉ ูุฑูุฏุฉ ููู ุฌูุงุฒ
- **ููุน ุชุณุฌูู ุงูุฏุฎูู ุงููุชุฒุงูู** - ุฌูุณุฉ ูุงุญุฏุฉ ููุท ููู ูุณุชุฎุฏู
- **Session Management** - ุฅุฏุงุฑุฉ ูุญููุฉ ููุฌูุณุงุช
- **Activity Logging** - ุชุณุฌูู ุฌููุน ุงูุฃูุดุทุฉ
- **RLS Policies** - 30+ ุณูุงุณุฉ ุฃูููุฉ ุนูู ูุณุชูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### ๐ฏ ุงูุชุญูู ูู ุงูุจูุงูุงุช
- **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**: ูุฌุจ ุฃู ููุชูู ุจู `@kku.edu.sa`
- **ุงูุฑูู ุงูุฌุงูุนู**: 9 ุฃุฑูุงู ุชุจุฏุฃ ุจู `44` (ููุทูุงุจ ููุท)
- **ุงูุงุณู ุงููุงูู**: ูุฌุจ ุฃู ูุญุชูู ุนูู ุงุณููู ุนูู ุงูุฃูู
- **ุงูุชุญูู ุงูุซูุงุซู**: Frontend + Backend + Database

#### ๐ฅ ุงูุฃุฏูุงุฑ ุงููุฏุนููุฉ
- **๐จโ๐ผ ุงููุฏูุฑ (Admin)**: ุฅุฏุงุฑุฉ ูุงููุฉ ูููุธุงู
- **๐จโ๐ซ ุงููุฏุฑุณ (Instructor)**: ุฅุฏุงุฑุฉ ุงูููุฑุฑุงุช ูุงูุฌูุณุงุช
- **๐ ุงูุทุงูุจ (Student)**: ุชุณุฌูู ุงูุญุถูุฑ ููุชุงุจุนุฉ ุงูุณุฌูุงุช
- **๐๏ธ ุงููุดุฑู (Supervisor)**: ุนุฑุถ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช

#### ๐ ูุงุนุฏุฉ ุจูุงูุงุช ุญููููุฉ
- **10 ุฌุฏุงูู** ุฑุฆูุณูุฉ ูู PostgreSQL
- **30+ ููุฑุณ** ูุชุญุณูู ุงูุฃุฏุงุก
- **30+ ุณูุงุณุฉ RLS** ููุฃูุงู
- **5 ูุญูุฒุงุช** ุชููุงุฆูุฉ
- **3 ุฏูุงู** ูุชูุฏูุฉ
- **2 ุนุฑุถ** ููุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช
- **Realtime Updates** ููุนูุฉ

#### ๐ฅ ุฌูุณุงุช ุงูุจุซ ุงููุจุงุดุฑ
- ุฅูุดุงุก ุฌูุณุงุช ุจุซ ูุจุงุดุฑ ุจุงุณุชุฎุฏุงู Jitsi Meet
- ุฅุดุนุงุฑุงุช ููุฑูุฉ ููุทูุงุจ ุนูุฏ ุจุฏุก ุงูุฌูุณุฉ
- ุชุณุฌูู ุญุถูุฑ ุชููุงุฆู ุนูุฏ ุงูุงูุถูุงู

#### ๐ ุฏุนู ูุบุชูู
- **ุงูุนุฑุจูุฉ** (RTL)
- **English** (LTR)
- ุชุจุฏูู ุณูุณ ุจูู ุงููุบุชูู

---

## ๐๏ธ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ (10 ุฌุฏุงูู)

#### 1๏ธโฃ **users** - ุงููุณุชุฎุฏููู
```sql
- id, auth_id, email, full_name
- role, university_id, phone, department
- status, created_at, updated_at, last_login
```
**Constraints:**
- `email` ูุฌุจ ุฃู ููุชูู ุจู `@kku.edu.sa`
- `university_id` ููุทูุงุจ: 9 ุฃุฑูุงู ุชุจุฏุฃ ุจู `44`
- `full_name` ูุง ููู ุนู 3 ุฃุญุฑู

#### 2๏ธโฃ **device_sessions** - ุฌูุณุงุช ุงูุฃุฌูุฒุฉ
```sql
- id, user_id, device_fingerprint
- device_info, ip_address, location
- session_token, is_active, last_activity, expires_at
```
**ุงูุบุฑุถ:** ููุน ุชุณุฌูู ุงูุฏุฎูู ุงููุชุฒุงูู

#### 3๏ธโฃ **courses** - ุงูููุฑุฑุงุช ุงูุฏุฑุงุณูุฉ
```sql
- id, course_code, course_name, course_name_ar
- instructor_id, department, semester
- academic_year, credit_hours, max_students, status
```

#### 4๏ธโฃ **enrollments** - ุงูุชุณุฌูู ูู ุงูููุฑุฑุงุช
```sql
- id, student_id, course_id
- enrolled_at, status, grade
```

#### 5๏ธโฃ **schedules** - ุงูุฌุฏุงูู ุงูุฏุฑุงุณูุฉ
```sql
- id, course_id, day_of_week
- start_time, end_time, location
- building, room_number
```

#### 6๏ธโฃ **sessions** - ุงูุฌูุณุงุช ุงูุฏุฑุงุณูุฉ
```sql
- id, course_id, instructor_id
- session_type, title, description, code
- start_time, end_time, is_active
- stream_active, stream_url, recording_url
```

#### 7๏ธโฃ **attendance_records** - ุณุฌูุงุช ุงูุญุถูุฑ
```sql
- id, session_id, student_id, course_id
- check_in_time, check_out_time, status
- verification_method, device_fingerprint
- ip_address, location, notes
```

#### 8๏ธโฃ **notifications** - ุงูุฅุดุนุงุฑุงุช
```sql
- id, user_id, title, title_ar
- message, message_ar, type
- is_read, priority, created_at, read_at
```

#### 9๏ธโฃ **activity_logs** - ุณุฌูุงุช ุงููุดุงุท
```sql
- id, user_id, action, entity_type, entity_id
- details, ip_address, device_fingerprint
- status, created_at
```

#### ๐ **system_settings** - ุฅุนุฏุงุฏุงุช ุงููุธุงู
```sql
- id, key, value (JSONB)
- description, category
```

---

## ๐ ูุธุงู Device Fingerprinting

### ููู ูุนููุ

#### ุงููุฑุญูุฉ 1: ุฌูุน ุงููุนูููุงุช
```javascript
1. Canvas Fingerprint     โ ุฑุณู ูุฑูุฏ ุนูู Canvas
2. WebGL Fingerprint      โ ูุนูููุงุช ูุฑุช ุงูุดุงุดุฉ
3. Audio Fingerprint      โ ุชุญููู ุงูุตูุช
4. Font Detection         โ ุงูุฎุทูุท ุงููุซุจุชุฉ
5. Plugin Detection       โ ุงูุฅุถุงูุงุช ุงููุซุจุชุฉ
6. Hardware Info          โ ุงููุนุงูุฌุ ุงูุฐุงูุฑุฉุ ุงูุดุงุดุฉ
7. Geolocation           โ ุงููููุน ุงูุฌุบุฑุงูู
8. IP Address            โ ุนููุงู IP
```

#### ุงููุฑุญูุฉ 2: ุฅูุดุงุก Hash
```javascript
// ุฏูุฌ ุฌููุน ุงููุนูููุงุช
const fingerprintData = [
  canvasFingerprint,
  webglFingerprint,
  audioFingerprint,
  fonts.join(','),
  plugins.join(','),
  hardwareInfo,
  // ... ุงููุฒูุฏ
].join('|');

// ุฅูุดุงุก SHA-256 hash
const fingerprint = await SHA256(fingerprintData);
// ูุซุงู: "a7f3e8d9c4b2f1a0..."
```

#### ุงููุฑุญูุฉ 3: ุงูุชุญูู
```javascript
// ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู:
1. ุฅูุดุงุก ุจุตูุฉ ุฌุฏูุฏุฉ ููุฌูุงุฒ ุงูุญุงูู
2. ููุงุฑูุชูุง ูุน ุงูุจุตูุงุช ุงููุณุฌูุฉ
3. ุฅุฐุง ูุฌุฏุช ุฌูุณุฉ ูุดุทุฉ ูุจุตูุฉ ูุฎุชููุฉ โ ุฑูุถ
4. ุฅุฐุง ููุณ ุงูุจุตูุฉ โ ุชุญุฏูุซ ุงูุฌูุณุฉ
5. ุฅุฐุง ูุง ุชูุฌุฏ ุฌูุณุฉ โ ุฅูุดุงุก ุฌูุณุฉ ุฌุฏูุฏุฉ
```

### ูุซุงู ุนููู
```typescript
// ูู AuthContext.tsx
const signIn = async (email, password) => {
  // 1. ุฅูุดุงุก ุจุตูุฉ ุงูุฌูุงุฒ
  const deviceInfo = await generateDeviceFingerprint();
  
  // 2. ุชุณุฌูู ุงูุฏุฎูู ูู Supabase
  const { session } = await supabase.auth.signInWithPassword({
    email, password
  });
  
  // 3. ุชุณุฌูู ุงูุฌูุณุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
  const response = await registerDeviceSession({
    device_fingerprint: deviceInfo.fingerprint,
    device_info: deviceInfo,
    session_token: session.access_token
  });
  
  // 4. ุฅุฐุง ูุงู ููุงู ุชุนุงุฑุถ
  if (response.conflict) {
    throw new Error('ุฌูุณุฉ ูุดุทุฉ ุนูู ุฌูุงุฒ ุขุฎุฑ');
  }
  
  // 5. ุญูุธ ุงูุจุตูุฉ ูุญููุงู
  saveFingerprintToStorage(deviceInfo);
};
```

---

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
- Node.js 16+ (ููุชุทููุฑ ุงููุญูู)
- ุญุณุงุจ Supabase
- ุญุณุงุจ Vercel (ูููุดุฑ)
- Git

### 1๏ธโฃ ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### ุฃ. ุชูููุฐ ููู SQL
```sql
-- ูู Supabase SQL Editor
-- ููุฐ ูุญุชูู ููู: /SUPABASE_REAL_DATABASE_SETUP.sql
```

#### ุจ. ุชูุนูู Realtime
```
Database โ Replication โ Enable for:
โ users
โ courses
โ enrollments
โ sessions
โ attendance_records
โ notifications
```

#### ุฌ. ุฅูุดุงุก ูุณุชุฎุฏููู ุงุฎุชุจุงุฑููู
```sql
-- ูุฏูุฑ
Email: admin@kku.edu.sa
Password: Admin@123456

-- ูุฏุฑุณ
Email: instructor@kku.edu.sa
Password: Instructor@123

-- ุทุงูุจ
Email: student@kku.edu.sa
Password: Student@123
University ID: 441234567
```

### 2๏ธโฃ ุฑูุน ุนูู GitHub

```bash
git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/USERNAME/kku-attendance-system.git
git push -u origin main
```

### 3๏ธโฃ ุงููุดุฑ ุนูู Vercel

1. ุงุฐูุจ ุฅูู [vercel.com](https://vercel.com)
2. **Import** ูุดุฑูุนู ูู GitHub
3. ุฃุถู **Environment Variables**:
   ```
   SUPABASE_URL=https://pcymgqdjbdklrikdquih.supabase.co
   SUPABASE_ANON_KEY=eyJhbGci...
   SUPABASE_SERVICE_ROLE_KEY=eyJhbGci...
   ```
4. ุงุถุบุท **Deploy**
5. โ **ุฌุงูุฒ!**

---

## ๐ ุฏููู ุงูุงุณุชุฎุฏุงู

### ูููุฏูุฑ (Admin)

#### ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ
```
1. ููุญุฉ ุงูุชุญูู โ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
2. ุงุถุบุท "ุฅุถุงูุฉ ูุณุชุฎุฏู"
3. ุงููุฃ ุงูุจูุงูุงุช (Email, Name, Role, University ID)
4. ุงุญูุธ
```

#### ุฅุฏุงุฑุฉ ุงูููุฑุฑุงุช
```
1. ููุญุฉ ุงูุชุญูู โ ุฅุฏุงุฑุฉ ุงูููุฑุฑุงุช
2. ุงุถุบุท "ุฅุถุงูุฉ ููุฑุฑ"
3. ุงููุฃ ุงูุจูุงูุงุช (Code, Name, Instructor, Credits)
4. ุงุญูุธ
```

#### ุชุณุฌูู ุทุงูุจ ูู ููุฑุฑ
```
1. ููุญุฉ ุงูุชุญูู โ ุฅุฏุงุฑุฉ ุงูุชุณุฌูู
2. ุงุฎุชุฑ ุงูุทุงูุจ
3. ุงุฎุชุฑ ุงูููุฑุฑ
4. ุงุถุบุท "ุชุณุฌูู"
```

### ูููุฏุฑุณ (Instructor)

#### ุฅูุดุงุก ุฌูุณุฉ ุญุถูุฑ
```
1. ููุญุฉ ุงูุชุญูู โ ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช
2. ุงุถุบุท "ุฌูุณุฉ ุฌุฏูุฏุฉ"
3. ุงุฎุชุฑ ุงูููุฑุฑ
4. ุญุฏุฏ ุงููุฏุฉ (ุงูุชุฑุงุถู: 15 ุฏูููุฉ)
5. ุงุญุตู ุนูู ุฑูุฒ ุงูุญุถูุฑ
6. ุดุงุฑู ุงูุฑูุฒ ูุน ุงูุทูุงุจ
```

#### ุจุฏุก ุฌูุณุฉ ุจุซ ูุจุงุดุฑ
```
1. ููุญุฉ ุงูุชุญูู โ ุฌูุณุงุช ุงูุจุซ ุงููุจุงุดุฑ
2. ุงุถุบุท "ุฌูุณุฉ ุจุซ ุฌุฏูุฏุฉ"
3. ุงุฎุชุฑ ุงูููุฑุฑ
4. ุฃุฏุฎู ุงูุนููุงู ูุงููุตู
5. ุงุถุบุท "ุจุฏุก ุงูุจุซ"
6. ุณูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ููุทูุงุจ ุชููุงุฆูุงู
```

### ููุทุงูุจ (Student)

#### ุชุณุฌูู ุงูุญุถูุฑ
```
1. ููุญุฉ ุงูุชุญูู โ ุชุณุฌูู ุงูุญุถูุฑ
2. ุฃุฏุฎู ุฑูุฒ ุงูุญุถูุฑ
3. ุงุถุบุท "ุชุณุฌูู"
4. โ ุชู! ุณูุชู ุญูุธ:
   - ููุช ุงูุชุณุฌูู
   - ุจุตูุฉ ุงูุฌูุงุฒ
   - ุนููุงู IP
   - ุงููููุน ุงูุฌุบุฑุงูู (ุฅู ุฃููู)
```

#### ุงูุงูุถูุงู ูุฌูุณุฉ ุจุซ ูุจุงุดุฑ
```
1. ุนูุฏ ุจุฏุก ุฌูุณุฉ โ ุณุชุญุตู ุนูู ุฅุดุนุงุฑ
2. ุงุถุบุท ุนูู ุงูุฅุดุนุงุฑ ุฃู ุงุฐูุจ ุฅูู "ุงูุฌูุณุงุช ุงููุจุงุดุฑุฉ"
3. ุงุถุบุท "ุงูุถูุงู"
4. ุณููููู ุฅูู Jitsi Meet
5. ูุชู ุชุณุฌูู ุญุถูุฑู ุชููุงุฆูุงู
```

#### ุนุฑุถ ุณุฌู ุงูุญุถูุฑ
```
1. ููุญุฉ ุงูุชุญูู โ ุณุฌูุงุช ุงูุญุถูุฑ
2. ุงุฎุชุฑ ุงูููุฑุฑ
3. ุดุงูุฏ:
   - ุนุฏุฏ ุงูุฌูุณุงุช
   - ุงูุญุถูุฑ / ุงูุบูุงุจ
   - ูุณุจุฉ ุงูุญุถูุฑ
   - ุงูุชุงุฑูุฎ ูุงูููุช ููู ุฌูุณุฉ
```

---

## ๐ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช

### ูููุฏุฑุงุก ูุงููุดุฑููู

#### ุชูุฑูุฑ ูุณุจุฉ ุงูุญุถูุฑ ููู ููุฑุฑ
```sql
SELECT * FROM course_attendance_stats;
```
**ุงููุชูุฌุฉ:**
```
course_name | total_students | total_sessions | attendance_percentage
CS101       | 45             | 12             | 87.5%
CS201       | 38             | 10             | 92.3%
```

#### ุชูุฑูุฑ ุญุถูุฑ ุทุงูุจ ูุนูู
```sql
SELECT * FROM student_attendance_summary
WHERE university_id = '441234567';
```
**ุงููุชูุฌุฉ:**
```
course_name | sessions_attended | attendance_percentage
CS101       | 11/12             | 91.7%
CS201       | 9/10              | 90.0%
```

#### ุงูุฌูุณุงุช ุงููุดุทุฉ ุญุงููุงู
```sql
SELECT 
  u.full_name,
  ds.device_info->>'summary' as device,
  ds.last_activity
FROM device_sessions ds
JOIN users u ON u.id = ds.user_id
WHERE ds.is_active = true 
  AND ds.expires_at > NOW();
```

#### ุณุฌู ุงููุดุงุท
```sql
SELECT 
  created_at,
  u.full_name,
  action,
  status
FROM activity_logs al
JOIN users u ON u.id = al.user_id
ORDER BY created_at DESC
LIMIT 50;
```

---

## ๐ก๏ธ ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

### ูุง ูุชู ุชุณุฌููู

ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู:
- โ ุงูุจุตูุฉ ุงููุฑูุฏุฉ ููุฌูุงุฒ (Hash ุบูุฑ ูุงุจู ููุนูุณ)
- โ ุนููุงู IP
- โ ุงููููุน ุงูุฌุบุฑุงูู ุงูุชูุฑูุจู (ุฅู ูุงูู ุงููุณุชุฎุฏู)
- โ ููุช ูุชุงุฑูุฎ ุงูุชุณุฌูู

ุนูุฏ ุชุณุฌูู ุงูุญุถูุฑ:
- โ ููุช ูุชุงุฑูุฎ ุงูุชุณุฌูู ุงูุฏููู
- โ ุงูุจุตูุฉ ุงููุฑูุฏุฉ ููุฌูุงุฒ
- โ ุนููุงู IP
- โ ุงููููุน ุงูุฌุบุฑุงูู (ุฅู ูุงูู ุงููุณุชุฎุฏู)

### ูุง ูุง ูุชู ุชุณุฌููู

- โ ูููุงุช ุงููุฑูุฑ (ูุดูุฑุฉ ุจู Supabase Auth)
- โ ุจูุงูุงุช ุดุฎุตูุฉ ุญุณุงุณุฉ
- โ ูุญุชูู ุงูุชุตูุญ
- โ ูููุงุช cookies

### ุณูุงุณุงุช ุงูุฎุตูุตูุฉ

- ุฌููุน ุงูุจูุงูุงุช ูุญููุธุฉ ูู ูุงุนุฏุฉ ุจูุงูุงุช ูุดูุฑุฉ (Supabase)
- RLS Policies ุชููุน ุงููุตูู ุบูุฑ ุงููุตุฑุญ ุจู
- ูู ูุณุชุฎุฏู ูุฑู ุจูุงูุงุชู ุงูุฎุงุตุฉ ููุท
- ุงููุฏุฑุงุก ูุฏููู ุตูุงุญูุงุช ูุญุฏูุฏุฉ ููุณุฌูุฉ

---

## ๐ ุจููุฉ ุงููุดุฑูุน

```
kku-attendance-system/
โโโ ๐ App.tsx                          # ุงููููู ุงูุฑุฆูุณู
โโโ ๐ components/                      # ุฌููุน ุงูููููุงุช
โ   โโโ AuthContext.tsx                 # ุฅุฏุงุฑุฉ ุงููุตุงุฏูุฉ
โ   โโโ AdminDashboard.tsx              # ููุญุฉ ุชุญูู ุงููุฏูุฑ
โ   โโโ InstructorDashboard.tsx         # ููุญุฉ ุชุญูู ุงููุฏุฑุณ
โ   โโโ StudentDashboard.tsx            # ููุญุฉ ุชุญูู ุงูุทุงูุจ
โ   โโโ LoginPage.tsx                   # ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
โ   โโโ SessionManagement.tsx           # ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช
โ   โโโ StudentAttendance.tsx           # ุชุณุฌูู ุงูุญุถูุฑ
โ   โโโ LiveStreamHost.tsx              # ุจุซ ูุจุงุดุฑ (ูุฏุฑุณ)
โ   โโโ LiveStreamViewer.tsx            # ุจุซ ูุจุงุดุฑ (ุทุงูุจ)
โ   โโโ ...
โโโ ๐ utils/                           # ุงูุฃุฏูุงุช ุงููุณุงุนุฏุฉ
โ   โโโ supabaseClient.ts               # ุนููู Supabase
โ   โโโ deviceFingerprint.ts            # ูุธุงู ุงูุจุตูุฉ
โ   โโโ api.ts                          # ุงุณุชุฏุนุงุกุงุช API
โ   โโโ i18n.ts                         # ุงูุชุฑุฌูุฉ
โโโ ๐ supabase/functions/server/       # Edge Functions
โ   โโโ index.tsx                       # Server ุงูุฑุฆูุณู
โ   โโโ db.ts                           # ุฏูุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ kv_store.tsx                    # KV Store (ุงุญุชูุงุทู)
โโโ ๐ SUPABASE_REAL_DATABASE_SETUP.sql # ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช (650+ ุณุทุฑ)
โโโ ๐ vercel.json                      # ุฅุนุฏุงุฏุงุช Vercel
โโโ ๐ styles/                          # ุงูุฃููุงุท
    โโโ globals.css                     # ุฃููุงุท ุนุงูุฉ
```

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑุงุช ูุฏููุฉ

#### โ ุงุฎุชุจุงุฑ 1: ุชุณุฌูู ุงูุฏุฎูู
```
1. ุงูุชุญ ุงูุชุทุจูู
2. ุงุฐูุจ ุฅูู "ุชุณุฌูู ุงูุฏุฎูู"
3. ุฌุฑุจ: admin@kku.edu.sa / Admin@123456
4. ุชุญูู: ุธููุฑ ููุญุฉ ุชุญูู ุงููุฏูุฑ
```

#### โ ุงุฎุชุจุงุฑ 2: Device Fingerprinting
```
1. ุณุฌู ุงูุฏุฎูู ุนูู Chrome
2. ุงูุชุญ Console (F12)
3. ุงุจุญุซ ุนู: "Device fingerprint generated"
4. ูุง ุชุณุฌู ุงูุฎุฑูุฌ
5. ุงูุชุญ Firefox
6. ุญุงูู ุชุณุฌูู ุงูุฏุฎูู ุจููุณ ุงูุญุณุงุจ
7. ุชุญูู: ุฑุณุงูุฉ "ุฌูุณุฉ ูุดุทุฉ ุนูู ุฌูุงุฒ ุขุฎุฑ"
```

#### โ ุงุฎุชุจุงุฑ 3: ุงูุชุญูู ูู ุงูุจูุงูุงุช
```
ุชุณุฌูู ุญุณุงุจ ุฌุฏูุฏ:
โ test@gmail.com โ ุฎุทุฃ
โ student@kku.edu.sa โ ุตุญูุญ

โ 12345678 โ ุฎุทุฃ
โ 441234567 โ ุตุญูุญ

โ "Ali" โ ุฎุทุฃ
โ "Ali Mohammed" โ ุตุญูุญ
```

---

## ๐ค ุงููุณุงููุฉ

### ุฅุถุงูุฉ ููุฒุฉ ุฌุฏูุฏุฉ

1. Fork ุงููุดุฑูุน
2. ุฃูุดุฆ branch ุฌุฏูุฏ: `git checkout -b feature/new-feature`
3. Commit ุงูุชุบููุฑุงุช: `git commit -m 'Add new feature'`
4. Push ุฅูู Branch: `git push origin feature/new-feature`
5. ุงูุชุญ Pull Request

### ุงูุฅุจูุงุบ ุนู ูุดููุฉ

ุงูุชุญ Issue ุฌุฏูุฏ ูุญุฏุฏ:
- ุนููุงู ูุงุถุญ
- ุฎุทูุงุช ุฅุนุงุฏุฉ ุฅูุชุงุฌ ุงููุดููุฉ
- ุงููุชูุฌุฉ ุงููุชููุนุฉ
- ุงููุชูุฌุฉ ุงููุนููุฉ
- ููุทุงุช ุดุงุดุฉ (ุฅู ุฃููู)

---

## ๐ ุงูุฏุนู

- ๐ง ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: support@kku.edu.sa
- ๐ฑ ุงููุงุชุณุงุจ: +966-XX-XXX-XXXX
- ๐ ุงููููุน: https://www.kku.edu.sa

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช [MIT License](LICENSE)

---

## ๐ฅ ุงููุฑูู ุงููุทูุฑ

### ูุฑูู ุงูุชุทููุฑ ุงูุฃุณุงุณู
- ๐จโ๐ป **[ุงุณู ุงูุทุงูุจ 1]** - Full Stack Developer
- ๐จโ๐ป **[ุงุณู ุงูุทุงูุจ 2]** - Backend Developer
- ๐จโ๐ป **[ุงุณู ุงูุทุงูุจ 3]** - Frontend Developer
- ๐จโ๐ป **[ุงุณู ุงูุทุงูุจ 4]** - Database Administrator
- ๐จโ๐ป **[ุงุณู ุงูุทุงูุจ 5]** - UI/UX Designer

### ุงูุฅุดุฑุงู ุงูุฃูุงุฏููู
- ๐ฉโ๐ซ **[ุงุณู ุงูุฏูุชูุฑุฉ ุงููุดุฑูุฉ]** - ุงููุดุฑู ุงูุฑุฆูุณู

---

## ๐ ุดูุฑ ูุชูุฏูุฑ

- ุฌุงูุนุฉ ุงูููู ุฎุงูุฏ
- Supabase
- Vercel
- React ู TypeScript Community
- Jitsi Meet

---

## ๐ ุฅุญุตุงุฆูุงุช ุงููุดุฑูุน

- ๐ **ุฃูุซุฑ ูู 10,000 ุณุทุฑ** ูู ุงูููุฏ
- ๐๏ธ **10 ุฌุฏุงูู** ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ๐ **30+ ุณูุงุณุฉ ุฃูููุฉ** (RLS)
- ๐ฑ **25+ ุตูุญุฉ ููููู**
- ๐ **ุฏุนู ูุบุชูู** ูุงูู
- โก **Realtime Updates** ููุนูุฉ
- ๐ฏ **100%** ุฌุงูุฒ ููุฅูุชุงุฌ

---

## ๐ ุขุฎุฑ ุงูุชุญุฏูุซุงุช

### ุงูุฅุตุฏุงุฑ 2.0 (ุฏูุณูุจุฑ 2024)
- โ ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL ุญููููุฉ
- โ ูุธุงู Device Fingerprinting ูุชูุฏู
- โ Session Management ูุญูู
- โ ููุน ุชุณุฌูู ุงูุฏุฎูู ุงููุชุฒุงูู
- โ Activity Logging ุดุงูู
- โ Realtime Updates
- โ ุฌูุณุงุช ุงูุจุซ ุงููุจุงุดุฑ
- โ ุชุญุณููุงุช ุงูุฃูุงู

### ุงูุฅุตุฏุงุฑ 1.0 (ููููุจุฑ 2024)
- โ ุงููุณุฎุฉ ุงูุฃูููุฉ
- โ ุชุณุฌูู ุงูุฏุฎูู ูุงูุฎุฑูุฌ
- โ ุชุณุฌูู ุงูุญุถูุฑ ุจุงูุฑูุฒ
- โ ููุญุงุช ุงูุชุญูู ุงูุฃุณุงุณูุฉ

---

<div align="center">

**ุตูุน ุจู โค๏ธ ูู ุฌุงูุนุฉ ุงูููู ุฎุงูุฏ**

**Made with โค๏ธ at King Khalid University**

[โฌ ุงูุนูุฏุฉ ููุฃุนูู](#ูุธุงู-ุงูุญุถูุฑ-ุงูุฐูู-ูุฌุงูุนุฉ-ุงูููู-ุฎุงูุฏ)

</div>

</div>

---

# English

## ๐ Overview

KKU Smart Attendance System is a comprehensive solution for managing attendance at King Khalid University, featuring:

### โจ Key Features

- โ Real PostgreSQL database
- โ Advanced Device Fingerprinting
- โ Concurrent login prevention
- โ Session Management
- โ Activity Logging
- โ 30+ RLS security policies
- โ Realtime updates
- โ Live streaming sessions
- โ Bilingual support (Arabic/English)

### ๐ฏ Data Validation

- **Email**: Must end with `@kku.edu.sa`
- **University ID**: 9 digits starting with `44` (students only)
- **Full Name**: At least 2 names required
- **Triple verification**: Frontend + Backend + Database

### ๐ Database Structure

- **10 main tables**
- **30+ indexes** for performance
- **30+ RLS policies** for security
- **5 triggers** for automation
- **3 functions** for advanced logic
- **2 views** for reports

---

## ๐ Quick Start

### Prerequisites
- Node.js 16+
- Supabase account
- Vercel account
- Git

### 1๏ธโฃ Database Setup

```sql
-- Execute in Supabase SQL Editor
-- File: /SUPABASE_REAL_DATABASE_SETUP.sql
```

### 2๏ธโฃ Deploy to Vercel

```bash
git push origin main
# Then import project in Vercel
# Add environment variables
# Deploy!
```

### 3๏ธโฃ Test

```
Admin: admin@kku.edu.sa / Admin@123456
Instructor: instructor@kku.edu.sa / Instructor@123
Student: student@kku.edu.sa / Student@123
```

---

## ๐ Documentation

- ๐ฏ [Complete Implementation Guide](/๐ฏ_ุฏููู_ุงูุชุทุจูู_ุงูุดุงูู_ููุฏูุชูุฑุฉ_ุงููุดุฑูุฉ.md)
- ๐ [Vercel Deployment Guide](/๐_ุฏููู_ุงููุดุฑ_ุนูู_Vercel_ุงููุงูู.md)
- ๐ [Database Setup](/SUPABASE_REAL_DATABASE_SETUP.sql)

---

## ๐ Support

- ๐ง Email: support@kku.edu.sa
- ๐ฑ WhatsApp: +966-XX-XXX-XXXX
- ๐ Website: https://www.kku.edu.sa

---

## ๐ License

MIT License - See [LICENSE](LICENSE)

---

<div align="center">

**Made with โค๏ธ at King Khalid University**

[โฌ Back to top](#kku-smart-attendance-system)

</div>
